{"version":3,"names":["useMemo","VisionCameraProxy","createImageLabelerPlugin","plugin","initFrameProcessorPlugin","Error","labelImage","frame","call","useImageLabeler"],"sources":["index.ts"],"sourcesContent":["import { useMemo } from 'react'\nimport { type Frame, VisionCameraProxy} from 'react-native-vision-camera';\n\ninterface ImageLabel {\n  /**\n   * A label describing the image, in english.\n   */\n  label: string;\n  /**\n   * A floating point number from 0 to 1, describing the confidence (percentage).\n   */\n  confidence: number;\n}\n\ntype ImageLabelerPlugin = {\n  /**\n   * Generates labels for an image\n   *\n   * @param {Frame} frame Frame to generate labels\n   */\n  labelImage: ( frame: Frame ) => ImageLabel[]\n}\n\n/**\n * Create a new instance of image labeler plugin\n *\n * @returns {ImageLabelerPlugin} Plugin instance\n */\nfunction createImageLabelerPlugin(): ImageLabelerPlugin {\n  const plugin = VisionCameraProxy.initFrameProcessorPlugin('imageLabeler', {} )\n\n  if ( !plugin ) {\n    throw new Error( 'Failed to load Frame Processor Plugin \"imageLabeler\"!' )\n  }\n\n  return {\n    labelImage: (\n      frame: Frame\n    ): ImageLabel[] => {\n      'worklet'\n      // @ts-ignore\n      return plugin.call( frame ) as Face[]\n    }\n  }\n}\n/**\n * Use an instance of image labeler plugin.\n *\n * @returns {ImageLabelerPlugin} Memoized plugin instance that will be\n * destroyed once the component using `useFaceDetector()` unmounts.\n */\nexport function useImageLabeler(): ImageLabelerPlugin {\n  return useMemo( () => (\n    createImageLabelerPlugin( )\n  ), [ ] )\n}\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,OAAO;AAC/B,SAAqBC,iBAAiB,QAAO,4BAA4B;AAsBzE;AACA;AACA;AACA;AACA;AACA,SAASC,wBAAwBA,CAAA,EAAuB;EACtD,MAAMC,MAAM,GAAGF,iBAAiB,CAACG,wBAAwB,CAAC,cAAc,EAAE,CAAC,CAAE,CAAC;EAE9E,IAAK,CAACD,MAAM,EAAG;IACb,MAAM,IAAIE,KAAK,CAAE,uDAAwD,CAAC;EAC5E;EAEA,OAAO;IACLC,UAAU,EACRC,KAAY,IACK;MACjB,SAAS;;MACT;MACA,OAAOJ,MAAM,CAACK,IAAI,CAAED,KAAM,CAAC;IAC7B;EACF,CAAC;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASE,eAAeA,CAAA,EAAuB;EACpD,OAAOT,OAAO,CAAE,MACdE,wBAAwB,CAAE,CAC3B,EAAE,EAAI,CAAC;AACV","ignoreList":[]}